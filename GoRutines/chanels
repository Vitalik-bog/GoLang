package main

import (
    "fmt"
    "time"
)

// Канал для передачи данных между горутинами
func worker(id int, jobs <-chan int, results chan<- int) {
    for job := range jobs {
        fmt.Printf("Работник %d начал задание %d\n", id, job)
        time.Sleep(time.Second) // Имитация работы
        fmt.Printf("Работник %d закончил задание %d\n", id, job)
        results <- job * 2
    }
}

func main() {
    jobs := make(chan int, 5)
    results := make(chan int, 5)
    
    // Запускаем работников
    for i := 1; i <= 3; i++ {
        go worker(i, jobs, results)
    }
    
    // Отправляем задания
    for i := 1; i <= 5; i++ {
        jobs <- i
    }
    close(jobs)
    
    // Получаем результаты
    for i := 1; i <= 5; i++ {
        result := <-results
        fmt.Printf("Получен результат: %d\n", result)
    }
}
