package main

import "fmt"

func worker(id int, done chan bool) {
    fmt.Printf("Worker %d started\n", id)
    // Какая-то работа
    fmt.Printf("Worker %d done\n", id)
    done <- true
}

func main() {
    done := make(chan bool, 3) // Буферизованный канал на 3 сообщения

    for i := 1; i <= 3; i++ {
        go worker(i, done)
    }

    // Ждем, пока все 3 горутины отправят сигнал
    for i := 0; i < 3; i++ {
        <-done
    }

    fmt.Println("All workers completed")
}
